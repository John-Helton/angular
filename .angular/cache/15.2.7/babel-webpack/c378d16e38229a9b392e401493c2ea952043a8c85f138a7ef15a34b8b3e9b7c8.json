{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProductsComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 14)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelement(8, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_tr_31_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editProduct(product_r1));\n    });\n    i0.ɵɵtext(11, \"Editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_tr_31_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteProduct(product_r1.id));\n    });\n    i0.ɵɵtext(14, \"Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r1.images[0], i0.ɵɵsanitizeUrl);\n  }\n}\nexport class ProductsComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.products = [];\n    this.selectedProduct = {};\n    this.showUpdateForm = false;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.productService.getAll().subscribe(response => {\n      this.products = response;\n      console.log(response);\n    });\n  }\n  createProduct() {\n    const data = {\n      title: \"Aditamentos de cocina\",\n      price: 25,\n      description: \"Cosinero, arrozera\",\n      images: ['http://api.lorem.space/image/furniture?w=640&h=480&r=8718'],\n      categoryId: 1\n    };\n    this.productService.store(data).subscribe(response => {\n      console.log(response);\n      // Llama a getProducts() nuevamente para obtener la lista actualizada después de crear el producto\n      this.getProducts();\n    });\n  }\n  editProduct(product) {\n    this.selectedProduct = product;\n  }\n  updateProduct() {\n    const data = {\n      title: \"Pavilion\",\n      price: 1500,\n      description: \"Laptop Gaming / Jinson Medina\",\n      images: ['http://api.lorem.space/image/furniture?w=640&h=480&r=8718'],\n      categoryId: 1\n    };\n    const productId = this.selectedProduct.id; // Obtén el ID del producto seleccionado\n    this.productService.update(12, data).subscribe(response => {\n      console.log(response);\n      // Llama a getProducts() nuevamente para obtener la lista actualizada después de actualizar el producto\n      this.getProducts();\n    });\n  }\n  deleteProduct(id) {\n    this.productService.destroy(id).subscribe(response => {\n      this.products = this.products.filter(product => product.id !== id);\n      console.log(response);\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-product\"]],\n  decls: 32,\n  vars: 4,\n  consts: [[1, \"card\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"price\", \"name\", \"price\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"name\", \"description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"table-responsive\"], [1, \"table\", \"table-success\"], [\"scope\", \"col\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [1, \"\"], [\"alt\", \"\", \"width\", \"50px\", \"height\", \"50px\", 3, \"src\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [\"href\", \"\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductsComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.updateProduct();\n      });\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.selectedProduct.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 6);\n      i0.ɵɵtext(9, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.selectedProduct.price = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Descripci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"textarea\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_Template_textarea_ngModelChange_14_listener($event) {\n        return ctx.selectedProduct.description = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(15, \"hr\");\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"table\", 11)(18, \"thead\")(19, \"tr\")(20, \"th\", 12);\n      i0.ɵɵtext(21, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 12);\n      i0.ɵɵtext(23, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 12);\n      i0.ɵɵtext(25, \"Descripci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\", 12);\n      i0.ɵɵtext(27, \"Imagen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tbody\");\n      i0.ɵɵtemplate(31, ProductsComponent_tr_31_Template, 15, 4, \"tr\", 13);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedProduct.title);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedProduct.price);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedProduct.description);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"table-responsive[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    justify-content: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZHVjdHMvcHJvZHVjdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQix1QkFBdUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZS1yZXNwb25zaXZle1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductsComponent","constructor","productService","ngOnInit","getProducts","getAll","subscribe","response","products","console","log","createProduct","data","title","price","description","images","categoryId","store","editProduct","product","selectedProduct","updateProduct","productId","id","update","deleteProduct","destroy","filter","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\am987\\OneDrive\\Documentos\\helton\\angular\\src\\app\\pages\\products\\products.component.html","C:\\Users\\am987\\OneDrive\\Documentos\\helton\\angular\\src\\app\\pages\\products\\products.component.ts"],"sourcesContent":["<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <form (ngSubmit)=\"updateProduct()\">\r\n      <div class=\"mb-3\">\r\n        <label for=\"title\" class=\"form-label\">Producto</label>\r\n        <input type=\"text\" id=\"title\" [(ngModel)]=\"selectedProduct.title\" name=\"title\" class=\"form-control\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"price\" class=\"form-label\">Precio</label>\r\n        <input type=\"number\" id=\"price\" [(ngModel)]=\"selectedProduct.price\" name=\"price\" class=\"form-control\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"description\" class=\"form-label\">Descripción</label>\r\n        <textarea id=\"description\" [(ngModel)]=\"selectedProduct.description\" name=\"description\" class=\"form-control\"></textarea>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<hr>\r\n<div class=\"table-responsive\">\r\n  <table class=\"table table-success\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Producto</th>\r\n        <th scope=\"col\">Precio</th>\r\n        <th scope=\"col\">Descripción</th>\r\n        <th scope=\"col\">Imagen</th>\r\n        <th>Acciones</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr class=\"\" *ngFor=\"let product of products\">\r\n        <td>{{ product.title }}</td>\r\n        <td>{{ product.price }}</td>\r\n        <td>{{ product.description }}</td>\r\n        <td>\r\n          <img src=\"{{ product.images[0] }}\" alt=\"\" width=\"50px\" height=\"50px\">\r\n        </td>\r\n        <td>\r\n          <button class=\"btn btn-warning\" (click)=\"editProduct(product)\">Editar</button>\r\n        </td>\r\n        <td>\r\n          <button href=\"\" class=\"btn btn-danger\" (click)=\"deleteProduct(product.id)\">Eliminar</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CreateProductDto, ProductModel, UpdateProductDto } from 'src/app/models/product.model';\r\nimport { ProductService } from 'src/app/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-product',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.css']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n  products: ProductModel[] = [];\r\n  selectedProduct: UpdateProductDto = {};\r\n\r\n  constructor(private productService: ProductService) { }\r\n  showUpdateForm: boolean = false;\r\n\r\n  ngOnInit(): void {\r\n    this.getProducts();\r\n  }\r\n\r\n  getProducts(): void {\r\n    this.productService.getAll().subscribe(response => {\r\n      this.products = response;\r\n      console.log(response);\r\n    });\r\n  }\r\n\r\n  createProduct() {\r\n    const data: CreateProductDto = {\r\n      title: \"Aditamentos de cocina\",\r\n      price: 25,\r\n      description: \"Cosinero, arrozera\",\r\n      images: ['http://api.lorem.space/image/furniture?w=640&h=480&r=8718'],\r\n      categoryId: 1,\r\n    };\r\n    \r\n    this.productService.store(data).subscribe(response => {\r\n      console.log(response);\r\n      // Llama a getProducts() nuevamente para obtener la lista actualizada después de crear el producto\r\n      this.getProducts();\r\n    });\r\n  }\r\n\r\n  editProduct(product: ProductModel) {\r\n    this.selectedProduct = product;\r\n  }\r\n\r\n  updateProduct() {\r\n    const data: UpdateProductDto = {\r\n      title: \"Pavilion\",\r\n      price: 1500,\r\n      description: \"Laptop Gaming / Jinson Medina\",\r\n      images: ['http://api.lorem.space/image/furniture?w=640&h=480&r=8718'],\r\n      categoryId: 1\r\n    };\r\n    \r\n    const productId = this.selectedProduct.id; // Obtén el ID del producto seleccionado\r\n    this.productService.update(12, data).subscribe(response => {\r\n      console.log(response);\r\n      // Llama a getProducts() nuevamente para obtener la lista actualizada después de actualizar el producto\r\n      this.getProducts();\r\n    });\r\n  }\r\n\r\n  deleteProduct(id: ProductModel['id']) {\r\n    this.productService.destroy(id).subscribe(response => {\r\n      this.products = this.products.filter(product => product.id !== id);\r\n      console.log(response);\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}